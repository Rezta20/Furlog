import{d as p}from"./pinia-CnhOXe-T.js";const o=[{id:"pet_001",customer_id:"cus001",name:"小白",petType:"dog",petBreed:"柴犬",petGender:"公",petAge:3,petWeight:10.5,petNote:"對陌生人稍微敏感",isAttack:!1,attackNote:"",healthReminder:"每年需打狂犬病疫苗",created_at:"2024-12-01 10:15",updated_at:"2025-05-24 12:00"},{id:"pet_002",customer_id:"cus002",name:"橘子",petType:"cat",petBreed:"橘貓",petGender:"母",petAge:5,petWeight:4.2,petNote:"怕生、需要慢慢接觸",isAttack:!0,attackNote:"剪指甲時會抓人",healthReminder:"定期服用化毛膏",created_at:"2023-07-20 08:30",updated_at:"2025-05-24 12:00"},{id:"pet_003",customer_id:"cus001",name:"豆豆",petType:"dog",petBreed:"貴賓犬",petGender:"公",petAge:4,petWeight:6.8,petNote:"活潑好動，喜歡和人玩",isAttack:!1,attackNote:"",healthReminder:"建議每月美容一次",created_at:"2024-06-05 10:00",updated_at:"2025-05-24 12:00"},{id:"pet_004",customer_id:"cus003",name:"球球",petType:"cat",petBreed:"英短藍貓",petGender:"公",petAge:2,petWeight:5,petNote:"很親人，會主動討摸",isAttack:!1,attackNote:"",healthReminder:"",created_at:"2024-05-01 15:10",updated_at:"2025-05-24 12:00"},{id:"pet_005",customer_id:"cus002",name:"奶茶",petType:"dog",petBreed:"柯基",petGender:"母",petAge:1,petWeight:9.1,petNote:"腳短跑很快，容易激動",isAttack:!1,attackNote:"",healthReminder:"控制體重，避免腰椎負擔",created_at:"2025-01-10 11:00",updated_at:"2025-05-24 12:00"},{id:"pet_006",customer_id:"cus004",name:"奶油",petType:"other",petBreed:"兔子",petGender:"母",petAge:1,petWeight:1.8,petNote:"不喜歡被抱，請輕聲互動",isAttack:!1,attackNote:"",healthReminder:"定期修剪指甲與磨牙",created_at:"2025-03-12 11:45",updated_at:"2025-05-24 12:00"}],n=p("pet",{state:()=>{let e=[];const t=localStorage.getItem("pets");if(t)try{e=JSON.parse(t),console.log("✅ Initialized pets from localStorage")}catch(a){console.error("❌ Failed to parse pets from localStorage:",a),e=[]}return(!e||e.length===0)&&(e=o.map(a=>({...a,petNote:a.petNote??"",attackNote:a.attackNote??"",healthReminder:a.healthReminder??""})),console.log("✅ Initialized pets from raw JSON")),{list:e,originList:e}},actions:{setList(e){this.list=e,localStorage.setItem("pets",JSON.stringify(e))},filterList(e){const t=e.name?.toLowerCase().trim()??"",a=e.petType??"",s=e.petBreed?.toLowerCase().trim()??"",r=e.petGender??"";this.list=this.originList.filter(i=>!(t&&!i.name.toLowerCase().includes(t)||a&&i.petType!==a||s&&!i.petBreed.toLowerCase().includes(s)||r&&i.petGender!==r)),!t&&!a&&!s&&!r&&(this.list=this.originList)},createPet(e){this.list.push(e),localStorage.setItem("pets",JSON.stringify(this.list))},updatePet(e){const t=this.list.findIndex(a=>a.id===e.id);t!==-1&&(this.list[t]=e,localStorage.setItem("pets",JSON.stringify(this.list)))},deletePet(e){this.list=this.list.filter(t=>t.id!==e),localStorage.setItem("pets",JSON.stringify(this.list))},fetchPetDetail(e){return this.list.find(t=>t.id===e)}}});export{n as u};
