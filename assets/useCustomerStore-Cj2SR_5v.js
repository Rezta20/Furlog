import{d as o}from"./pinia-sul-Gy4R.js";const n=[{id:"cus001",name:"王小明",phone:"0912345678",email:"xiaoming@example.com",note:"常預約洗澡，狗狗怕生。",created_at:"2024-12-01 10:30",updated_at:"2025-05-20 08:15"},{id:"cus002",name:"林美麗",phone:"0922333444",email:"meili.lin@example.com",note:"貓咪喜歡乾洗，容易緊張。",created_at:"2025-01-15 13:45",updated_at:"2025-05-21 11:00"},{id:"cus003",name:"陳志豪",phone:"0933123456",email:"zhihao.chen@example.com",note:"",created_at:"2024-11-30 09:00",updated_at:"2025-05-19 15:20"},{id:"cus004",name:"黃佳佳",phone:"0911888999",email:"jiajia.huang@example.com",note:"對香味過敏，請使用無香洗劑。",created_at:"2025-02-10 14:00",updated_at:"2025-05-22 09:45"},{id:"cus005",name:"吳志強",phone:"0966554433",email:"wu.chih@example.com",note:"",created_at:"2025-03-01 12:00",updated_at:"2025-05-20 12:30"},{id:"cus006",name:"曾雅婷",phone:"0955777888",email:"yating.tseng@example.com",note:"只做美容不洗澡。",created_at:"2025-01-05 08:00",updated_at:"2025-05-23 10:20"},{id:"cus007",name:"李宗憲",phone:"0988222333",email:"zongxian.lee@example.com",note:"大型犬，每次需安排 2 位美容師。",created_at:"2024-12-25 10:10",updated_at:"2025-05-21 16:00"},{id:"cus008",name:"張淑芬",phone:"0912999888",email:"shufen.zhang@example.com",note:"",created_at:"2025-03-10 11:45",updated_at:"2025-05-23 09:30"},{id:"cus009",name:"賴世偉",phone:"0977555666",email:"shiwei.lai@example.com",note:"要求每次結束要用毛巾包裹。",created_at:"2025-02-22 09:15",updated_at:"2025-05-20 17:10"},{id:"cus010",name:"許心怡",phone:"0900123456",email:"xinyi.hsu@example.com",note:"定期回訪顧客。",created_at:"2025-01-20 10:00",updated_at:"2025-05-18 14:00"}],l=o("customer",{state:()=>{let e=[];const t=localStorage.getItem("customers");if(t)try{e=JSON.parse(t),console.log("✅ Initialized customers from localStorage")}catch(a){console.error("❌ Failed to parse customers from localStorage:",a),e=[]}return(!e||e.length===0)&&(e=n.map(a=>({...a,note:a.note??""})),console.log("✅ Initialized customers from raw JSON")),{list:e,originList:e}},actions:{setList(e){this.list=e,localStorage.setItem("customers",JSON.stringify(e))},filterList(e){const t=e.name?.toLowerCase().trim()??"",a=e.phone?.trim()??"",i=e.email?.toLowerCase().trim()??"";this.list=this.originList.filter(s=>!(t&&!s.name.toLowerCase().includes(t)||a&&!s.phone.includes(a)||i&&!s.email.toLowerCase().includes(i))),!t&&!a&&!i&&(this.list=this.originList)},createCustomer(e){this.list.push(e),localStorage.setItem("customers",JSON.stringify(this.list))},updateCustomer(e){const t=this.list.findIndex(a=>a.id===e.id);t!==-1&&(this.list[t]=e,localStorage.setItem("customers",JSON.stringify(this.list)))},deleteCustomer(e){this.list=this.list.filter(t=>t.id!==e),localStorage.setItem("customers",JSON.stringify(this.list))},fetchCustomerDetail(e){return this.list.find(a=>a.id===e)}}});export{l as u};
